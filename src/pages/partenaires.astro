---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getEntry } from 'astro:content';

// Récupérer le contenu de la page partenaires
const partenaireEntry = await getEntry('pages-statiques', 'partenaires');

if (!partenaireEntry) {
  throw new Error('Page partenaires non trouvée');
}

const { Content } = await partenaireEntry.render();
const { data } = partenaireEntry;

// Données SEO pour la page
const seoData = {
  title: data.title || 'Nos Partenaires - GLP-1 France',
  description: data.description || 'Découvrez nos partenaires de confiance qui nous accompagnent dans notre mission d\'information sur les traitements GLP-1.',
  image: data.thumbnail || '/images/thumbnails/partenaires-glp1-illus.svg',
  url: '/partenaires',
  type: 'website'
};
---

<BaseLayout 
  title={seoData.title}
  description={seoData.description}
  image={seoData.image}
  url={seoData.url}
  type={seoData.type}
>
  <main class="max-w-4xl mx-auto px-4 py-8">
    <article class="prose prose-lg max-w-none">
      <!-- Header avec image -->
      <div class="text-center mb-8">
        {data.thumbnail && (
          <div class="mb-6 mx-auto w-32 h-32 flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl">
            <img 
              src={data.thumbnail} 
              alt="Partenaires GLP-1 France"
              class="w-20 h-20 object-contain"
              loading="eager"
            />
          </div>
        )}
        <h1 class="text-4xl font-bold text-gray-900 mb-4">{data.title}</h1>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">{data.description}</p>
      </div>

      <!-- Contenu principal -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-8">
        <Content />
      </div>

      <!-- Section CTA -->
      <div class="mt-12 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 text-center">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">
          Intéressé par un partenariat ?
        </h2>
        <p class="text-gray-600 mb-6 max-w-2xl mx-auto">
          Rejoignez notre réseau de partenaires de confiance et participez à notre mission d'information sur les traitements GLP-1.
        </p>
        <a 
          href="/contact" 
          class="inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-200"
        >
          Nous contacter
          <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
          </svg>
        </a>
      </div>

      <!-- Navigation -->
      <div class="mt-12 flex justify-center space-x-4">
        <a 
          href="/" 
          class="text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200"
        >
          ← Retour à l'accueil
        </a>
        <span class="text-gray-300">•</span>
        <a 
          href="/a-propos" 
          class="text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200"
        >
          À propos de nous
        </a>
        <span class="text-gray-300">•</span>
        <a 
          href="/contact" 
          class="text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200"
        >
          Contact
        </a>
      </div>
    </article>
  </main>

  <!-- Structured Data pour SEO -->
  <script type="application/ld+json" is:inline>
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Nos Partenaires - GLP-1 France",
    "description": "Découvrez nos partenaires de confiance qui nous accompagnent dans notre mission d'information sur les traitements GLP-1.",
    "url": "https://glp1-france.fr/partenaires",
    "mainEntity": {
      "@type": "Organization",
      "name": "GLP-1 France",
      "url": "https://glp1-france.fr",
      "logo": "https://glp1-france.fr/images/logo.png",
      "sameAs": [
        "https://annuaire.secous.com/",
        "https://www.toplien.fr/",
        "https://www.infobel.com/",
        "https://www.faitesvousconnaitre.com/",
        "https://www.webwiki.fr/",
        "https://www.le-bottin.com/",
        "https://meilleurduweb.com/"
      ]
    },
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Accueil",
          "item": "https://glp1-france.fr/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Partenaires",
          "item": "https://glp1-france.fr/partenaires"
        }
      ]
    }
  }
  </script>
</BaseLayout>

<style>
  /* Styles spécifiques pour la page partenaires */
  .prose h2 {
    @apply text-2xl font-bold text-gray-900 mt-8 mb-4 border-b border-gray-200 pb-2;
  }
  
  .prose h3 {
    @apply text-xl font-semibold text-gray-800 mt-6 mb-3;
  }
  
  .prose a {
    @apply text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200;
  }
  
  .prose strong {
    @apply font-semibold text-gray-900;
  }
  
  .prose ul {
    @apply space-y-2;
  }
  
  .prose li {
    @apply text-gray-700;
  }
  
  /* Style pour les liens de partenaires */
  .prose a[href^="https://"] {
    @apply inline-flex items-center text-blue-600 hover:text-blue-800 font-semibold transition-colors duration-200;
  }
  
  .prose a[href^="https://"]:after {
    content: "↗";
    @apply ml-1 text-sm opacity-60;
  }
</style>
